
### 一、介绍:
```
   该脚本是解决以下场景问题
      比如:当前有3台服务器是一个zk集群,为了安全考虑,只允许3台zk服务器和链接他的DB节点允许访问2181,2888,3888端口.
      使用ansible脚本虽然可以实现,但是步骤会很多,由此写出该脚本,配置好信息后,一键添加防火墙策略.
  
  该脚本作用:
       为多台服务器上设置制定端口的黑名单,并为端口设置白名单ip,不在白名单中的ip则无法访问该端口,其他端口不做限制.


 ```  

### 二、注意和事项:
       1. 脚本采用python2.7编写,所有环境中都可以直接执行,不需要安装python和插件.
        2. 脚本使用到了sshpass命令所以无需进行设置免密,如果主控机没该命令可在主控机上进行安装yum install sshpass
        3. 配置文件中[ ] 中括号的内容为固定内容,不可随便更改.
 

### 三、使用方法展示:

```
#1.  #1. 在脚本同级目录下编辑conf.txt文件中配置相关规则.
     vim conf.txt  

#2.执行脚本进行添加防火墙.
    python  add_iptables.py 
    
#3 #链接的账户密码可通过py文件中自行修改.
    vim  add_iptables.py 
    
```